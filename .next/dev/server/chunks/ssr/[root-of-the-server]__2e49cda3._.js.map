{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/tournament/TournamentStatus.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TournamentStatus = registerClientReference(\n    function() { throw new Error(\"Attempted to call TournamentStatus() from the server but TournamentStatus is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/tournament/TournamentStatus.tsx <module evaluation>\",\n    \"TournamentStatus\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,4EACA","ignoreList":[0]}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/tournament/TournamentStatus.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TournamentStatus = registerClientReference(\n    function() { throw new Error(\"Attempted to call TournamentStatus() from the server but TournamentStatus is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/tournament/TournamentStatus.tsx\",\n    \"TournamentStatus\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,wDACA","ignoreList":[0]}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/tournament/TournamentCard.tsx"],"sourcesContent":["import { ArrowRight, MapPin, Coins, Store } from \"lucide-react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { cn } from \"@/lib/utils\";\nimport { TournamentStatus } from \"./TournamentStatus\";\n\ninterface TournamentCardProps {\n  id: string;\n  title: string;\n  startAt: string;\n  lateRegAt?: string | null;\n  shopName: string;\n  shopImageUrl?: string | null;\n  buyIn: string;\n  tags?: string[];\n  isPremium?: boolean; // 店舗ランクによる差別化用\n}\n\nexport function TournamentCard({\n  id,\n  title,\n  startAt,\n  lateRegAt,\n  shopName,\n  shopImageUrl,\n  buyIn,\n  tags = [\"トーナメント\"],\n  isPremium = false,\n}: TournamentCardProps) {\n  return (\n    <Link href={`/tournaments/${id}`} className=\"block group\">\n      <div\n        className={cn(\n          \"relative bg-white rounded-xl border border-gray-200 shadow-sm p-4 transition-all duration-200 hover:shadow-md hover:border-orange-200\"\n        )}\n      >\n        <div className=\"flex flex-col md:flex-row items-center gap-2 md:gap-4\">\n          {/* 時間表示 */}\n          <div className=\"flex flex-col items-center justify-center min-w-20 pb-2 md:pb-0 border-b md:border-b-0 border-gray-100 w-full md:w-auto\">\n            <TournamentStatus startAt={startAt} lateRegAt={lateRegAt} className=\"text-2xl\" />\n          </div>\n\n          {/* コンテンツコンテナ */}\n          <div className=\"flex-1 min-w-0 flex flex-col md:flex-row md:items-center gap-2 md:gap-4 w-full\">\n            \n            {/* タイトルと店舗情報 */}\n            <div className=\"flex-1 min-w-0 flex flex-col items-center md:items-start text-center md:text-left\">\n              <h3 className=\"text-base md:text-lg font-bold text-gray-900 w-full truncate group-hover:text-orange-600 transition-colors\">\n                {title}\n              </h3>\n              \n              <div className=\"flex items-center gap-2 mt-1 text-sm text-gray-600 justify-center md:justify-start\">\n                <div className=\"relative w-5 h-5 rounded-full overflow-hidden bg-gray-100 shrink-0\">\n                  {shopImageUrl ? (\n                    <Image\n                      src={shopImageUrl}\n                      alt={shopName}\n                      fill\n                      className=\"object-cover\"\n                    />\n                  ) : (\n                    <Store className=\"w-3 h-3 text-gray-400 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\" />\n                  )}\n                </div>\n                <span className=\"font-medium truncate\">{shopName}</span>\n              </div>\n            </div>\n\n            {/* Buy-inとタグ (PCでは右寄せ) */}\n            <div className=\"flex flex-col items-center md:items-end gap-1 mt-1 md:mt-0 w-full md:w-auto bg-gray-50 md:bg-transparent p-2 md:p-0 rounded-lg md:rounded-none\">\n              <div className=\"text-sm text-gray-600 whitespace-nowrap\">\n                <span className=\"font-bold text-gray-500 mr-1\">Buy-in:</span>\n                <span className=\"font-medium text-gray-900\">{buyIn}</span>\n              </div>\n              \n              <div className=\"flex gap-1\">\n                {tags.map((tag) => (\n                  <span\n                    key={tag}\n                    className=\"px-2 py-0.5 text-xs font-medium text-gray-500 bg-gray-100 md:bg-gray-100 rounded-md border border-gray-200 md:border-transparent\"\n                  >\n                    {tag}\n                  </span>\n                ))}\n              </div>\n            </div>\n\n          </div>\n\n          {/* 矢印 (PCのみ表示) */}\n          <div className=\"hidden md:flex items-center justify-center w-8 h-8 text-gray-300 group-hover:text-orange-500 group-hover:translate-x-1 transition-all shrink-0\">\n            <ArrowRight className=\"w-6 h-6\" />\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAcO,SAAS,eAAe,EAC7B,EAAE,EACF,KAAK,EACL,OAAO,EACP,SAAS,EACT,QAAQ,EACR,YAAY,EACZ,KAAK,EACL,OAAO;IAAC;CAAS,EACjB,YAAY,KAAK,EACG;IACpB,qBACE,8OAAC,0LAAI;QAAC,MAAM,CAAC,aAAa,EAAE,IAAI;QAAE,WAAU;kBAC1C,cAAA,8OAAC;YACC,WAAW,IAAA,kHAAE,EACX;sBAGF,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,iKAAgB;4BAAC,SAAS;4BAAS,WAAW;4BAAW,WAAU;;;;;;;;;;;kCAItE,8OAAC;wBAAI,WAAU;;0CAGb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX;;;;;;kDAGH,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACZ,6BACC,8OAAC,wIAAK;oDACJ,KAAK;oDACL,KAAK;oDACL,IAAI;oDACJ,WAAU;;;;;yEAGZ,8OAAC,6MAAK;oDAAC,WAAU;;;;;;;;;;;0DAGrB,8OAAC;gDAAK,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;0CAK5C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAA+B;;;;;;0DAC/C,8OAAC;gDAAK,WAAU;0DAA6B;;;;;;;;;;;;kDAG/C,8OAAC;wCAAI,WAAU;kDACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;gDAEC,WAAU;0DAET;+CAHI;;;;;;;;;;;;;;;;;;;;;;kCAYf,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,gOAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlC"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/ads/AdBanner.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport Link from \"next/link\";\n\nexport type Ad = {\n  id: string;\n  title: string;\n  image_url: string;\n  link_url: string | null;\n  type: 'banner' | 'square';\n  priority: number;\n  is_active: boolean;\n};\n\nexport function AdBanner({ ad }: { ad: Ad }) {\n  if (!ad) return null;\n\n  const Content = () => (\n    <div className=\"relative w-full aspect-[3/1] md:aspect-[4/1] overflow-hidden rounded-lg shadow-sm border border-gray-100 bg-gray-50\">\n      <Image\n        src={ad.image_url}\n        alt={ad.title}\n        fill\n        className=\"object-contain\"\n      />\n    </div>\n  );\n\n  return (\n    <div className=\"w-full max-w-md md:max-w-4xl mx-auto px-4 py-2\">\n      <div className=\"text-[10px] text-gray-400 mb-1\">広告</div>\n      {ad.link_url ? (\n        <Link href={ad.link_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"block hover:opacity-95 transition-opacity\">\n          <Content />\n        </Link>\n      ) : (\n        <Content />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAYO,SAAS,SAAS,EAAE,EAAE,EAAc;IACzC,IAAI,CAAC,IAAI,OAAO;IAEhB,MAAM,UAAU,kBACd,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,wIAAK;gBACJ,KAAK,GAAG,SAAS;gBACjB,KAAK,GAAG,KAAK;gBACb,IAAI;gBACJ,WAAU;;;;;;;;;;;IAKhB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAAiC;;;;;;YAC/C,GAAG,QAAQ,iBACV,8OAAC,0LAAI;gBAAC,MAAM,GAAG,QAAQ;gBAAE,QAAO;gBAAS,KAAI;gBAAsB,WAAU;0BAC3E,cAAA,8OAAC;;;;;;;;;qCAGH,8OAAC;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/ads/AdSquareGrid.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport Link from \"next/link\";\nimport { Ad } from \"./AdBanner\";\n\nexport function AdSquareGrid({ ads }: { ads: Ad[] }) {\n  if (!ads || ads.length === 0) return null;\n\n  return (\n    <div className=\"w-full max-w-md md:max-w-4xl mx-auto px-4 py-6\">\n      <div className=\"text-[10px] text-gray-400 mb-1\">広告</div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        {ads.map((ad) => (\n          <div key={ad.id} className=\"relative w-full aspect-square overflow-hidden rounded-lg shadow-sm border border-gray-100 bg-gray-50\">\n            {ad.link_url ? (\n              <Link href={ad.link_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"block w-full h-full\">\n                <Image\n                  src={ad.image_url}\n                  alt={ad.title}\n                  fill\n                  className=\"object-contain hover:scale-105 transition-transform duration-300\"\n                />\n              </Link>\n            ) : (\n              <Image\n                src={ad.image_url}\n                alt={ad.title}\n                fill\n                className=\"object-contain\"\n              />\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAGO,SAAS,aAAa,EAAE,GAAG,EAAiB;IACjD,IAAI,CAAC,OAAO,IAAI,MAAM,KAAK,GAAG,OAAO;IAErC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAAiC;;;;;;0BAChD,8OAAC;gBAAI,WAAU;0BACZ,IAAI,GAAG,CAAC,CAAC,mBACR,8OAAC;wBAAgB,WAAU;kCACxB,GAAG,QAAQ,iBACV,8OAAC,0LAAI;4BAAC,MAAM,GAAG,QAAQ;4BAAE,QAAO;4BAAS,KAAI;4BAAsB,WAAU;sCAC3E,cAAA,8OAAC,wIAAK;gCACJ,KAAK,GAAG,SAAS;gCACjB,KAAK,GAAG,KAAK;gCACb,IAAI;gCACJ,WAAU;;;;;;;;;;iDAId,8OAAC,wIAAK;4BACJ,KAAK,GAAG,SAAS;4BACjB,KAAK,GAAG,KAAK;4BACb,IAAI;4BACJ,WAAU;;;;;;uBAfN,GAAG,EAAE;;;;;;;;;;;;;;;;AAuBzB"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/FaqSection.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FaqSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call FaqSection() from the server but FaqSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/FaqSection.tsx <module evaluation>\",\n    \"FaqSection\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,2DACA","ignoreList":[0]}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/FaqSection.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const FaqSection = registerClientReference(\n    function() { throw new Error(\"Attempted to call FaqSection() from the server but FaqSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/FaqSection.tsx\",\n    \"FaqSection\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uCACA","ignoreList":[0]}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/HeroSlider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HeroSlider = registerClientReference(\n    function() { throw new Error(\"Attempted to call HeroSlider() from the server but HeroSlider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/HeroSlider.tsx <module evaluation>\",\n    \"HeroSlider\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,2DACA","ignoreList":[0]}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/components/HeroSlider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const HeroSlider = registerClientReference(\n    function() { throw new Error(\"Attempted to call HeroSlider() from the server but HeroSlider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/HeroSlider.tsx\",\n    \"HeroSlider\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uCACA","ignoreList":[0]}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///Users/hayashiryuukiyoshi/Documents/OKIPOKA/app/%28public%29/page.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\";\nimport { TournamentCard } from \"@/components/tournament/TournamentCard\";\nimport { AdBanner, Ad } from \"@/components/ads/AdBanner\";\nimport { AdSquareGrid } from \"@/components/ads/AdSquareGrid\";\nimport { FaqSection } from \"@/components/FaqSection\";\nimport { HeroSlider } from \"@/components/HeroSlider\";\nimport { Calendar, ChevronLeft, ChevronRight, Store, MapPin } from \"lucide-react\";\nimport { format, addDays, subDays } from \"date-fns\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\n\nexport default async function HomePage({\n  searchParams,\n}: {\n  searchParams: Promise<{ date?: string }>;\n}) {\n  const supabase = await createClient();\n  const { date } = await searchParams;\n  \n  // 1. 基準となる営業日(JST)を決定する\n  let targetDateStr = date;\n  \n  if (!targetDateStr) {\n    const now = new Date();\n    // UTC時間に9時間足してJST時間をシミュレート\n    const jstTime = new Date(now.getTime() + 9 * 60 * 60 * 1000);\n    \n    // JSTで0時〜6時の間なら、営業日は「前日」\n    if (jstTime.getUTCHours() < 6) {\n      jstTime.setUTCDate(jstTime.getUTCDate() - 1);\n    }\n    \n    // YYYY-MM-DD 形式を取得\n    const y = jstTime.getUTCFullYear();\n    const m = String(jstTime.getUTCMonth() + 1).padStart(2, '0');\n    const d = String(jstTime.getUTCDate()).padStart(2, '0');\n    targetDateStr = `${y}-${m}-${d}`;\n  }\n\n  // 2. 検索範囲を決定 (JST 06:00 〜 翌 JST 06:00)\n  // ISO文字列でタイムゾーン(+09:00)を指定してDateオブジェクトを作ることで、正確なUTC時刻に変換する\n  const startOfDay = new Date(`${targetDateStr}T06:00:00+09:00`);\n  const endOfDay = new Date(`${targetDateStr}T06:00:00+09:00`);\n  endOfDay.setDate(endOfDay.getDate() + 1); // 翌日の同時刻\n\n  // 前日・翌日のリンク用日付\n  // targetDateStr自体は \"YYYY-MM-DD\" なので、そのままDateにするとUTC 00:00扱いになるが、\n  // 日付の加減算用としては問題ない\n  const targetDate = new Date(targetDateStr);\n  const prevDate = subDays(targetDate, 1);\n  const nextDate = addDays(targetDate, 1);\n  \n  const prevDateStr = format(prevDate, \"yyyy-MM-dd\");\n  const nextDateStr = format(nextDate, \"yyyy-MM-dd\");\n\n  // 広告の取得\n  const { data: adsData } = await supabase\n    .from(\"ads\")\n    .select(\"*\")\n    .eq(\"is_active\", true)\n    .order(\"priority\", { ascending: false });\n\n  const ads = (adsData || []) as Ad[];\n  const bannerAds = ads.filter(ad => ad.type === 'banner');\n  const squareAds = ads.filter(ad => ad.type === 'square');\n\n  // シャッフル関数\n  const shuffle = <T,>(array: T[]) => {\n    const newArray = [...array];\n    for (let i = newArray.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\n    }\n    return newArray;\n  };\n\n  // バナー広告: 全ての中からランダムに1つ（優先度無視）\n  let displayBannerAd = null;\n  if (bannerAds.length > 0) {\n    displayBannerAd = bannerAds[Math.floor(Math.random() * bannerAds.length)];\n  }\n\n  // スクエア広告: 全ての中からランダムに2つ（優先度無視）\n  const displaySquareAds = shuffle(squareAds).slice(0, 2);\n\n  // ピックアップPRの取得\n  const { data: featuredItems } = await supabase\n    .from(\"featured_items\")\n    .select(\"*\")\n    .eq(\"is_active\", true)\n    .order(\"created_at\", { ascending: false })\n    .limit(5);\n\n  const { data: tournaments, error } = await supabase\n    .from(\"tournaments\")\n    .select(`\n      *,\n      shops (\n        name,\n        plan,\n        image_url\n      )\n    `)\n    .gte(\"start_at\", startOfDay.toISOString())\n    .lte(\"start_at\", endOfDay.toISOString())\n    .order(\"start_at\", { ascending: true });\n\n  if (error) {\n    console.error(\"Supabase error:\", error);\n  }\n\n  // 店舗一覧を取得\n  const { data: shops } = await supabase.from(\"shops\").select(\"*\").order(\"name\");\n\n  // エリアごとにグループ化\n  const groupedShops = (shops || []).reduce((acc, shop) => {\n    const area = shop.area || \"その他\";\n    if (!acc[area]) {\n      acc[area] = [];\n    }\n    acc[area].push(shop);\n    return acc;\n  }, {} as Record<string, typeof shops>);\n\n  // 表示順序の定義\n  const areaOrder = [\"那覇\", \"中部\", \"南部\", \"北部\", \"宮古島\", \"その他\"];\n\n  return (\n    <main className=\"min-h-screen pb-20\">\n      {/* ヒーロースライダー (トップ画像 + PR) */}\n      <HeroSlider featuredItems={featuredItems || []} />\n\n      {/* バナー広告 */}\n      {displayBannerAd && <AdBanner ad={displayBannerAd} />}\n\n      {/* ヘッダー */}\n      <header className=\"bg-white shadow-sm\">\n        <div className=\"max-w-md md:max-w-4xl mx-auto px-4 py-4 flex items-center justify-center relative\">\n          <h1 className=\"text-xl font-bold text-gray-900\">トーナメント情報</h1>\n        </div>\n        \n        {/* 日付選択バー */}\n        <div className=\"border-t border-gray-100 overflow-x-auto\">\n          <div className=\"max-w-md md:max-w-4xl mx-auto px-4 py-3 flex items-center justify-between gap-4\">\n            <Link href={`/?date=${prevDateStr}`} className=\"p-1 hover:bg-gray-100 rounded-full transition-colors\">\n              <ChevronLeft className=\"w-5 h-5 text-gray-500\" />\n            </Link>\n            \n            <div className=\"flex items-center gap-2 font-bold text-lg\">\n              <Calendar className=\"w-5 h-5 text-orange-500\" />\n              <span>\n                {new Intl.DateTimeFormat(\"ja-JP\", {\n                  timeZone: \"Asia/Tokyo\",\n                  year: \"numeric\",\n                  month: \"2-digit\",\n                  day: \"2-digit\",\n                }).format(targetDate).replace(/\\//g, \"/\")}\n              </span>\n            </div>\n\n            <Link href={`/?date=${nextDateStr}`} className=\"p-1 hover:bg-gray-100 rounded-full transition-colors\">\n              <ChevronRight className=\"w-5 h-5 text-gray-500\" />\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      {/* コンテンツエリア */}\n      <div className=\"max-w-md md:max-w-4xl mx-auto px-4 py-6 space-y-4\">\n        {tournaments && tournaments.length > 0 ? (\n          tournaments.map((tournament) => (\n            <TournamentCard\n              key={tournament.id}\n              id={tournament.id}\n              title={tournament.title}\n              startAt={tournament.start_at}\n              lateRegAt={tournament.late_reg_at}\n              // @ts-ignore: Supabaseの型定義と結合時の型推論が複雑なため一旦無視\n              shopName={tournament.shops?.name || \"Unknown Shop\"}\n              // @ts-ignore\n              shopImageUrl={tournament.shops?.image_url}\n              buyIn={tournament.buy_in || \"-\"}\n              tags={tournament.tags || []}\n              // @ts-ignore\n              isPremium={tournament.shops?.plan === \"premium\" || tournament.shops?.plan === \"business\"}\n            />\n          ))\n        ) : (\n          <div className=\"text-center py-10 text-gray-500\">\n            <p>本日のトーナメントはありません</p>\n            <p className=\"text-sm mt-2\">（管理画面から登録してください）</p>\n          </div>\n        )}\n      </div>\n\n      {/* スクエア広告 */}\n      {displaySquareAds.length > 0 && <AdSquareGrid ads={displaySquareAds} />}\n\n      {/* 店舗一覧セクション */}\n      <div className=\"max-w-md md:max-w-4xl mx-auto px-4 py-8 border-t border-gray-100\">\n        <h2 className=\"text-xl font-bold text-center mb-8 text-gray-900\">店舗一覧</h2>\n        <div className=\"space-y-8\">\n          {areaOrder.map((area) => {\n            const areaShops = groupedShops[area];\n            if (!areaShops || areaShops.length === 0) return null;\n\n            return (\n              <div key={area}>\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <div className=\"w-1 h-6 bg-orange-500 rounded-full\"></div>\n                  <h3 className=\"text-lg font-bold text-gray-700\">{area}</h3>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {areaShops.map((shop: any) => (\n                    <Link\n                      key={shop.id}\n                      href={`/shops/${shop.id}`}\n                      className=\"flex items-center gap-4 p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all\"\n                    >\n                      <div className=\"w-12 h-12 bg-gray-100 rounded-full shrink-0 overflow-hidden relative flex items-center justify-center border border-gray-100\">\n                        {shop.image_url ? (\n                          <Image\n                            src={shop.image_url}\n                            alt={shop.name}\n                            fill\n                            className=\"object-cover\"\n                          />\n                        ) : (\n                          <Store className=\"w-6 h-6 text-gray-300\" />\n                        )}\n                      </div>\n                      \n                      <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"font-bold text-gray-900 truncate\">{shop.name}</h4>\n                        {shop.address && (\n                          <div className=\"flex items-center gap-1 text-xs text-gray-500 mt-1 truncate\">\n                            <MapPin className=\"w-3 h-3\" />\n                            <span>{shop.address}</span>\n                          </div>\n                        )}\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* ブログ導線（画像クリックでブログへ） */}\n      <div className=\"max-w-md md:max-w-4xl mx-auto px-4 pb-8\">\n        <Link\n          href=\"/blog\"\n          className=\"block bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all\"\n        >\n          <div className=\"relative w-full h-56 sm:h-72 md:h-80 bg-gray-100\">\n            <Image\n              src=\"/blog.jpeg\"\n              alt=\"ブログ\"\n              fill\n              className=\"object-cover\"\n              priority\n            />\n          </div>\n        </Link>\n      </div>\n\n      {/* よくある質問 */}\n      <FaqSection />\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}